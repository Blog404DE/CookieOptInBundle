(function($){$(document).ready(function(){let bodyField=$("body");let newKey=1;bodyField.on("click",'[data-command="copy"]',function(){$(this).parents("tbody").find('[name$="[key]"]').each(function(){let tmpPrevKey=parseInt($(this).val());if(newKey<tmpPrevKey)newKey=tmpPrevKey});$('[name="cookieGroups['+newKey+'][key]"]').val(++newKey)});$('body [name$="[key]"]').prop("readonly","true");removeDeleteButtons();const targetNode=document.getElementById("top");const config={attributes:true,childList:true,subtree:true};const callback=function(mutationsList){for(let mutation of mutationsList){if(mutation.type==="attributes"&&mutation.attributeName==="id")removeDeleteButtons()}};const observer=new MutationObserver(callback);observer.observe(targetNode,config);function removeDeleteButtons(){$("#table_fieldpalette_cookieTools tbody tr").each(function(){let cookieField=$(this).find(".tl_td_content_left");let groupName=cookieField.find("span").text().trim();let cookieName=cookieField.text().trim().replace(groupName,"");cookieName=cookieName.trim();cookieName=cookieName.toLowerCase();let notRemove=["contao csrf token","contao https csrf token","php session id"];if(notRemove.includes(cookieName)){let removeButton=$(this).find(".tl_td_content_right .delete");if(removeButton.length>0){removeButton.remove()}}})}})})(jQuery);